{
    "name": "Person",
    "base": "User",
    "idInjection": true,
    "options": {
        "validateUpsert": true
    },
    "properties": {
        "name": {
            "type": "string",
            "required": true
        },
        "phone": {
            "type": "string",
            "required": true
        },
        "location": {
            "type": [{
                "lat": "number",
                "lng": "number",
                "startTime": "date",
                "endTime": "date",
                "syncToLedger": "boolean",
                "altitude": "number",
                "date": "date"
            }],
            "required": false
        },
        "symptoms": {
            "type": [{ "id": "string", "date": "date" }],
            "required": false
        }
    },
    "validations": [],
    "relations": {},
    "acls": [{
            "accessType": "*",
            "principalType": "ROLE",
            "principalId": "superUser",
            "permission": "ALLOW"
        },
        {
            "accessType": "EXECUTE",
            "principalType": "ROLE",
            "principalId": "$authenticated",
            "permission": "ALLOW",
            "property": "updatePerson"
        }
    ],
    "methods": {
        "prototype.updatePerson": {
            "accepts": [{
                "arg": "body",
                "type": "object",
                "required": true,
                "description": "",
                "http": {
                    "source": "body"
                }
            }],
            "returns": [{
                "arg": "body",
                "type": "object",
                "root": true,
                "description": ""
            }],
            "description": "",
            "http": [{
                "path": "/update-person",
                "verb": "post"
            }]
        }
    }
}